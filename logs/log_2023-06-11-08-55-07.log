[2023-06-11 08:55:11,023] root - INFO - Training pipleine config: TrainingPipelineConfig(artifact_dir='C:\\Users\\Sumeet Maheshwari\\Desktop\\end to end project\\Store Sales Forcasting using Time series\\store-sales-forcasting\\Sales_Forecasting_Artifact\\Artifact')
[2023-06-11 08:55:11,023] root - INFO - Data Ingestion config: DataIngestionConfig(raw_data_dir='C:\\Users\\Sumeet Maheshwari\\Desktop\\end to end project\\Store Sales Forcasting using Time series\\store-sales-forcasting\\Sales_Forecasting_Artifact\\Artifact\\data_ingestion\\2023-06-11-08-55-07\\raw_data', ingested_data_dir='C:\\Users\\Sumeet Maheshwari\\Desktop\\end to end project\\Store Sales Forcasting using Time series\\store-sales-forcasting\\Sales_Forecasting_Artifact\\Artifact\\data_ingestion\\2023-06-11-08-55-07\\ingested_data')
[2023-06-11 08:55:11,025] root - INFO - >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>Data Ingestion log started.<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< 


[2023-06-11 08:55:11,167] root - INFO - Data Ingestion Artifact
[2023-06-11 08:55:11,168] root - INFO - File Path : C:\Users\Sumeet Maheshwari\Desktop\dataset\data_dump\data-dump\final.csv
[2023-06-11 08:55:11,168] root - INFO - File Name: final_data.csv
[2023-06-11 08:55:11,168] root - INFO - File Ingested File Path: C:\Users\Sumeet Maheshwari\Desktop\end to end project\Store Sales Forcasting using Time series\store-sales-forcasting\Sales_Forecasting_Artifact\Artifact\data_ingestion\2023-06-11-08-55-07\raw_data\final_data.csv
[2023-06-11 08:55:11,168] root - INFO - >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>Data Validation log started.<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< 


[2023-06-11 08:55:11,168] root - INFO - ---------------Raw Data Validation started---------------
[2023-06-11 08:55:11,173] root - INFO - Validation Process Started
[2023-06-11 08:55:11,173] root - INFO - Validate filename started
[2023-06-11 08:55:11,173] root - INFO - checking columns names started successfully
[2023-06-11 08:55:15,539] root - INFO - missing values whole column started successfully
[2023-06-11 08:55:20,427] root - INFO - replacing null values with NULL started successfully
[2023-06-11 08:55:27,919] root - INFO - replacing null values with NULL completed successfully
[2023-06-11 08:55:28,039] root - INFO - Train_set status|is Train filename validated?: True|is train column name validated?: True|whole missing columns?True
[2023-06-11 08:55:28,165] root - INFO - Exported validated  dataset to file: [C:\Users\Sumeet Maheshwari\Desktop\end to end project\Store Sales Forcasting using Time series\store-sales-forcasting\Sales_Forecasting_Artifact\Artifact\data_validation\2023-06-11-08-55-07\validated_data]
[2023-06-11 08:55:28,165] root - INFO - Checking for Data Drift
[2023-06-11 08:55:28,165] root - INFO - Generating data drift report.json file
[2023-06-11 08:56:21,100] root - INFO - Report.json file generation successful!!
[2023-06-11 08:56:21,310] root - INFO - Generating data drift report.html page
[2023-06-11 08:57:25,351] root - INFO - Report.html page generation successful!!
[2023-06-11 08:57:25,526] root - INFO - Data validation artifact: DataValidationArtifact(schema_file_path='C:\\Users\\Sumeet Maheshwari\\Desktop\\end to end project\\Store Sales Forcasting using Time series\\store-sales-forcasting\\config\\schema.yaml', report_file_path='C:\\Users\\Sumeet Maheshwari\\Desktop\\end to end project\\Store Sales Forcasting using Time series\\store-sales-forcasting\\Sales_Forecasting_Artifact\\Artifact\\data_validation\\2023-06-11-08-55-07\\report.json', report_page_file_path='C:\\Users\\Sumeet Maheshwari\\Desktop\\end to end project\\Store Sales Forcasting using Time series\\store-sales-forcasting\\Sales_Forecasting_Artifact\\Artifact\\data_validation\\2023-06-11-08-55-07\\report.html', validated_file_path='C:\\Users\\Sumeet Maheshwari\\Desktop\\end to end project\\Store Sales Forcasting using Time series\\store-sales-forcasting\\Sales_Forecasting_Artifact\\Artifact\\data_validation\\2023-06-11-08-55-07\\validated_data', message='Validated')
[2023-06-11 08:57:25,526] root - INFO - >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>Data Validation log completed.<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[2023-06-11 08:57:25,526] root - INFO - Data Transformation Config: DataTransformationConfig(transformed_train_dir='C:\\Users\\Sumeet Maheshwari\\Desktop\\end to end project\\Store Sales Forcasting using Time series\\store-sales-forcasting\\Sales_Forecasting_Artifact\\Artifact\\data_transformation\\2023-06-11-08-55-07\\transformed_data\\train', transformed_test_dir='C:\\Users\\Sumeet Maheshwari\\Desktop\\end to end project\\Store Sales Forcasting using Time series\\store-sales-forcasting\\Sales_Forecasting_Artifact\\Artifact\\data_transformation\\2023-06-11-08-55-07\\transformed_data\\test', time_series_data_file_path='C:\\Users\\Sumeet Maheshwari\\Desktop\\end to end project\\Store Sales Forcasting using Time series\\store-sales-forcasting\\Sales_Forecasting_Artifact\\Artifact\\data_transformation\\2023-06-11-08-55-07\\transformed_data\\time_series_data', preprocessed_object_file_path='C:\\Users\\Sumeet Maheshwari\\Desktop\\end to end project\\Store Sales Forcasting using Time series\\store-sales-forcasting\\Sales_Forecasting_Artifact\\Artifact\\data_transformation\\2023-06-11-08-55-07\\preprocessed\\preprocessed.pkl', feature_engineering_object_file_path='C:\\Users\\Sumeet Maheshwari\\Desktop\\end to end project\\Store Sales Forcasting using Time series\\store-sales-forcasting\\Sales_Forecasting_Artifact\\Artifact\\data_transformation\\2023-06-11-08-55-07\\preprocessed\\feat_eng.pkl')
[2023-06-11 08:57:25,527] root - INFO - 
******************** Data Transformation log started ********************


[2023-06-11 08:57:25,531] root - INFO - Obtaining file from file path 
[2023-06-11 08:57:25,531] root - INFO - Loading Data as pandas dataframe.
[2023-06-11 08:57:29,419] root - INFO -  Data columns Index(['date', 'store_nbr', 'family', 'sales', 'onpromotion', 'holiday_type',
       'locale', 'locale_name', 'description', 'transferred', 'dcoilwtico',
       'city', 'state', 'store_type', 'cluster', 'transactions'],
      dtype='object')
[2023-06-11 08:57:29,419] root - INFO - Numerical columns: ['store_nbr', 'onpromotion', 'oil_price', 'cluster', 'transactions']
[2023-06-11 08:57:29,420] root - INFO - Categorical columns: ['family', 'holiday_type', 'locale', 'locale_name', 'description', 'city', 'state', 'store_type', 'transferred']
[2023-06-11 08:57:29,420] root - INFO - Target Column: ['sales']
[2023-06-11 08:57:29,420] root - INFO - Date column :['date']
[2023-06-11 08:57:29,420] root - INFO - All columns: ['store_nbr', 'onpromotion', 'oil_price', 'cluster', 'transactions', 'family', 'holiday_type', 'locale', 'locale_name', 'description', 'city', 'state', 'store_type', 'transferred', 'date', 'sales']
[2023-06-11 08:57:29,788] root - INFO - Obtaining feature engineering object.
[2023-06-11 08:57:29,788] root - INFO - 
******************** Feature Engneering Started ********************


[2023-06-11 08:57:29,788] root - INFO -  Numerical Columns , Categorical Columns , Target Column initialised in Feature engineering Pipeline 
[2023-06-11 08:57:29,788] root - INFO - Applying feature engineering object on training dataframe and testing dataframe
[2023-06-11 08:57:29,788] root - INFO - >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> Training data <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
[2023-06-11 08:57:29,788] root - INFO - Feature Enineering - Train Data 
[2023-06-11 08:57:29,788] root - INFO - Columns not found: ['year', 'month', 'week', 'quarter', 'day_of_week']
[2023-06-11 08:57:44,223] root - INFO -  Oil Price column renamed 
[2023-06-11 08:57:46,798] root - INFO - Shape before removing duplicates: (3054348, 16)
[2023-06-11 08:57:46,798] root - INFO - Shape after removing duplicates: (3045438, 16)
[2023-06-11 08:57:46,798] root - INFO - Count of duplicate values: 8910
[2023-06-11 08:57:52,573] root - INFO - Missing ratio information:
[2023-06-11 08:57:52,573] root - INFO - oil_price: 100.00%
[2023-06-11 08:57:52,573] root - INFO - holiday_type: 83.79%
[2023-06-11 08:57:52,573] root - INFO - locale: 83.79%
[2023-06-11 08:57:52,573] root - INFO - locale_name: 83.79%
[2023-06-11 08:57:52,573] root - INFO - transferred: 83.79%
[2023-06-11 08:57:52,573] root - INFO - transactions: 8.16%
[2023-06-11 08:57:52,574] root - INFO - 'id' column not found. Skipping dropping operation.
[2023-06-11 08:57:52,574] root - INFO - Dropping rows with null values...
[2023-06-11 08:57:55,490] root - INFO - Resetting DataFrame index...
[2023-06-11 08:57:55,491] root - INFO - Columns dropped, null values removed, and index reset.
[2023-06-11 08:57:55,491] root - INFO - Handling missing values in 'transactions' column...
[2023-06-11 08:57:55,492] root - INFO - Checking 'oil_price' column for missing values...
[2023-06-11 08:57:55,492] root - INFO - Number of missing values: 0
[2023-06-11 08:57:55,492] root - INFO - Forward-filling missing values in 'oil_price' column...
[2023-06-11 08:57:55,493] root - INFO - Number of missing values after filling: 0
[2023-06-11 08:57:55,493] root - INFO - Series([], Name: holiday_type, dtype: object)
[2023-06-11 08:57:55,493] root - INFO - Filling missing values in 'holiday_type' column with mode...
[2023-06-11 08:57:55,493] root - INFO - Filling missing values in 'locale' column with mode...
[2023-06-11 08:57:55,493] root - INFO - Filling missing values in 'locale_name' column with mode...
[2023-06-11 08:57:55,494] root - INFO - Filling missing values in 'description' column with mode...
[2023-06-11 08:57:55,494] root - INFO - Filling missing values in 'transferred' column with mode...
[2023-06-11 08:57:55,494] root - INFO - Missing values handled.
[2023-06-11 08:57:55,494] root - INFO - Removing outliers in column 'transactions' using IQR method...
[2023-06-11 08:57:55,495] root - INFO - Number of outliers removed in column 'transactions': 0
[2023-06-11 08:57:55,496] root - INFO - Column 'transactions' modified: 0 outliers modified
[2023-06-11 08:57:55,497] root - INFO - Column 'family' converted to 'category' data type.
[2023-06-11 08:57:55,497] root - INFO - Column 'holiday_type' converted to 'category' data type.
[2023-06-11 08:57:55,498] root - INFO - Column 'locale' converted to 'category' data type.
[2023-06-11 08:57:55,498] root - INFO - Column 'locale_name' converted to 'category' data type.
[2023-06-11 08:57:55,498] root - INFO - Column 'description' converted to 'category' data type.
[2023-06-11 08:57:55,499] root - INFO - Column 'city' converted to 'category' data type.
[2023-06-11 08:57:55,499] root - INFO - Column 'state' converted to 'category' data type.
[2023-06-11 08:57:55,500] root - INFO - Column 'store_type' converted to 'category' data type.
[2023-06-11 08:57:55,500] root - INFO - Column 'transferred' converted to 'category' data type.
[2023-06-11 08:57:55,503] root - INFO - Mapping unique values of categorical columns:
[2023-06-11 08:57:55,504] root - INFO - Column: 'family', Unique Values: [], Categories (0, object): []
[2023-06-11 08:57:55,506] root - INFO - Column: 'holiday_type', Unique Values: [], Categories (0, object): []
[2023-06-11 08:57:55,508] root - INFO - Column: 'locale', Unique Values: [], Categories (0, object): []
[2023-06-11 08:57:55,510] root - INFO - Column: 'locale_name', Unique Values: [], Categories (0, object): []
[2023-06-11 08:57:55,511] root - INFO - Column: 'description', Unique Values: [], Categories (0, object): []
[2023-06-11 08:57:55,513] root - INFO - Column: 'city', Unique Values: [], Categories (0, object): []
[2023-06-11 08:57:55,514] root - INFO - Column: 'state', Unique Values: [], Categories (0, object): []
[2023-06-11 08:57:55,515] root - INFO - Column: 'store_type', Unique Values: [], Categories (0, object): []
[2023-06-11 08:57:55,516] root - INFO - Column: 'transferred', Unique Values: [], Categories (0, object): []
[2023-06-11 08:57:55,522] root - INFO - Empty DataFrame
Columns: [store_nbr, onpromotion, oil_price, cluster, transactions, family, holiday_type, locale, locale_name, description, city, state, store_type, transferred, date, sales]
Index: []
[2023-06-11 08:57:55,522] root - INFO -  Data Modification Done
[2023-06-11 08:57:55,522] root - INFO - Column Data Types:
[2023-06-11 08:57:55,522] root - INFO - Column: 'store_nbr': int64
[2023-06-11 08:57:55,522] root - INFO - Column: 'onpromotion': int64
[2023-06-11 08:57:55,522] root - INFO - Column: 'oil_price': float64
[2023-06-11 08:57:55,523] root - INFO - Column: 'cluster': int64
[2023-06-11 08:57:55,523] root - INFO - Column: 'transactions': float64
[2023-06-11 08:57:55,523] root - INFO - Column: 'family': category
[2023-06-11 08:57:55,523] root - INFO - Column: 'holiday_type': category
[2023-06-11 08:57:55,523] root - INFO - Column: 'locale': category
[2023-06-11 08:57:55,523] root - INFO - Column: 'locale_name': category
[2023-06-11 08:57:55,524] root - INFO - Column: 'description': category
[2023-06-11 08:57:55,524] root - INFO - Column: 'city': category
[2023-06-11 08:57:55,524] root - INFO - Column: 'state': category
[2023-06-11 08:57:55,524] root - INFO - Column: 'store_type': category
[2023-06-11 08:57:55,524] root - INFO - Column: 'transferred': category
[2023-06-11 08:57:55,524] root - INFO - Column: 'date': datetime64[ns]
[2023-06-11 08:57:55,525] root - INFO - Column: 'sales': float64
[2023-06-11 08:57:55,525] root - INFO - Data Wrangling Done
[2023-06-11 08:57:55,527] root - INFO - Converting featured engineered array into dataframe.
[2023-06-11 08:57:55,527] root - INFO - Feature Engineering - Train Completed
[2023-06-11 08:57:55,528] root - ERROR - 
                        error occured in script: 
                        [C:\Users\Sumeet Maheshwari\Desktop\end to end project\Store Sales Forcasting using Time series\store-sales-forcasting\store_sales\pipeline\training_pipeline.py] at 
                        try block line number: [72] execption block line number: [78]
                        error message: [
                        error occured in script: 
                        [C:\Users\Sumeet Maheshwari\Desktop\end to end project\Store Sales Forcasting using Time series\store-sales-forcasting\store_sales\pipeline\training_pipeline.py] at 
                        try block line number: [62] execption block line number: [64]
                        error message: [
                        error occured in script: 
                        [C:\Users\Sumeet Maheshwari\Desktop\end to end project\Store Sales Forcasting using Time series\store-sales-forcasting\store_sales\components\data_transformation.py] at 
                        try block line number: [495] execption block line number: [559]
                        error message: [With n_samples=0, test_size=0.2 and train_size=None, the resulting train set will be empty. Adjust any of the aforementioned parameters.]]]
[2023-06-11 08:57:55,665] root - INFO - 
******************** Data Transformation log completed ********************


